%factor graph, toy example. (line)
clear ;

p_a = [
0.1 0.9
    ] ;

p_b = [
0.2 0.8
    ] ;

p_cb = [
0.4 0.6
0.6 0.4
    ] ;

p_dc = [
    0.3 0.7
    0.8 0.2
    ] ;

%function g = p_b * p_ab * p_cb * p_dc
g = [] ;
for i = 0:15
    bin = dec2bin(i, 4) ;
    a = bin(1) + 1 - '0';
    b = bin(2) + 1 - '0';
    c = bin(3) + 1 - '0';
    d = bin(4) + 1 - '0';
    g(i+1) = p_a(a) * p_b(b) * p_cb(b,c) * p_dc(c,d) ;
    fprintf(1, '%s & %6.4f \\\\ \n ', bin, g(i+1)) ;
end

%  0001 & 0.0056 \\ 
%  0010 & 0.0096 \\ 
%  0011 & 0.0024 \\ 
%  0100 & 0.0144 \\ 
%  0101 & 0.0336 \\ 
%  0110 & 0.0256 \\ 
%  0111 & 0.0064 \\ 
%  1000 & 0.0216 \\ 
%  1001 & 0.0504 \\ 
%  1010 & 0.0864 \\ 
%  1011 & 0.0216 \\ 
%  1100 & 0.1296 \\ 
%  1101 & 0.3024 \\ 
%  1110 & 0.2304 \\ 
%  1111 & 0.0576 \\ 
